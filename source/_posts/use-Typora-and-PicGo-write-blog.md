---
title: 使用Typora+图床工具PicGo写博客
comments: true
tags:
  - typora
  - picgo
  - blog
categories: Tech
abbrlink: 58331
date: 2020-03-18 10:44:58
---

> 之前介绍了怎么使用`github`+`hexo`搭建个人白嫖博客的文章：[Hexo 搭建个人博客](https://chaosysama.github.io/20190914/use-hexo-build-blog/)
>
> 当时是一腔热情，可是写了几篇博客之后发现了许多问题，比如：
>
> - 每次写文章都要`hexo n`，`hexo g`，`hexo d`各种代码敲来敲去(这就是`'hexo cli'`)才能发布到`github`上去。
> - 因为上述原因，需要`vim`或`vscode`或其他文本编辑器书写`markdown`文章，然后用`hexo cli`操作，虽然`vscode`有`markdown`预览插件，但始终不是写作的感觉，更像是敲代码，体验不够好。
> - 写文章的时候，有时候会想加点配图，网上找的图片可能会出现无法外链的情况，有时候需要的配图是自己屏幕上的截图等等，这些加大了写作的难度，为了一张图片搞得很麻烦，也容易打断创作思路(本人写作白痴, 语体教, 你们看我文章也能感受到, 请多包涵)。
> - ……
>
> 基于以上种种问题，消磨了文章创作的热情，就一鸽再鸽了。
>
> 那么从这篇文章开始，会陆续的针对以上痛点，慢慢优化我的博客，大家也可以借鉴，我会努力踩坑，然后填平了写出来的。
>
> 这篇文章解决的问题就是最直接的，关乎写作流畅度的问题，这也是极大提高创作信心的一步！~~你看我都不鸽了~~

<!-- more -->

温馨提示：太长不看版可以跳转到最后的[总结](#con)

## Typora

首先介绍一下[Typora](https://www.typora.io)，大家从官网就可以看出`Typora`的逼格有点高，即写即渲染，功能强大，小巧轻便，是我喜欢的极简风格，实际体验过程中也证实，确实写作起来很舒服，很容易让自己有一种沉浸式写作的快感。也明白了为什么网上很多人推崇它的原因。~~我也无脑粉了！~~它还有个打字机模式，这个虽然很不习惯，但是逼格真的高，大家可以一试。

所以，既然大家都要用`markdown`写作，不妨使用这款神器。另外，它的一个重要的功能，也是这篇文章的核心，也是不得不推荐它的主要原因，这个不知道别的编辑器有没有，不过应该没有`Typora`体验这么好。

这个重要的功能下文会结合别的工具介绍。

## 图床

上面介绍完了写作工具，接下来介绍一下图床，众所周知，为了避免开头说的，图片防外链，图片地址失效，找不到网络图片，使用本地截图等等原因，一个好的图床是必须的。

图床，顾名思义就是图片 ~~睡觉~~ 保管的地方。上面提到的众多问题的最佳解决方案是什么？当然就是 ~~让别人帮你~~ 有一个自己可控的图床。

那么问题又来了，图床和博客一样，之前的做法都是找个云服务器搭建起来提供资源外链，现在我们博客白嫖了，图床能不能也白嫖呢？好消息好消息，图床可以白嫖啦！而且就在`github`白嫖，没错！我们可以把博客和图床放在一起管理！

>  你只要把图片保存下来，上传到`github`仓库，就会有图片的外链出来供你使用，是不是很简单！

上面这句话是废话，大部分人都想得到，只是和博客一样，敲代码管理，我们是不喜欢的。更何况还要结合写作文章，想想就难。但这个就是下面介绍解决方案的原理，虽然不重要，哈哈哈，我们继续。

> 补充一下，你也可以选择其他的图床(`sm.ms`,`imgur`,`各种云图床`等等)，免费的也有很多，不过要注册和管理啥的，我这边优选`github`，因为可以和博客一起管理。~~要死一起死~~

## PicGo

图床废话了一大堆，接下来聊聊图床工具，图床工具的作用就是简化我上面说的废话，没错，只要通过工具，就可以自动上传图片，得到外链地址，是不是很激动。

于是经过一番 ~~搜索~~ 调研，我发现了[PicGo](https://picgo.github.io/PicGo-Doc/zh/)，支持拖拽，自动复制链接，上传方便，大家可以在官网下载，是轻便，开源，有保障的应用。顺便一提，这个好像是国人开发的，支持一波~

具体的下载，安装，设置，大家参照官网文档，没什么难度的，这里我就不介绍了。

这里需要讲一下图床设置中的`GitHub图床`，官方文档的配置如下：

![image-20200317153222449](https://raw.githubusercontent.com/ChaosySama/ChaosySama.github.io/img/image-20200317153222449.png)

这里因为要和博客的放在同一个仓库中，所以可以提前在博客的仓库中新建一个`img`分支，用来保管上传的图片。然后上面设定分支名的时候设置为`img`，这样就不用担心博客部署之后，图片文件被覆盖的问题了，因为不在同一个分支上。

## 结合

通过上面的配置和使用，图床问题解决了，写作工具和图片上传问题也解决了，下面那么怎么让整个过程更一体化呢？这也是上面提到过的，推荐`Typora`的主因之一，它的设置中自带插入图片时上传功能，并且可以完美结合`PicGo`，只要你开启了`PicGo App`或者`PicGo cli`就可以在写作过程中自动上传图片到仓库。

![image-20200318093957720](https://raw.githubusercontent.com/ChaosySama/ChaosySama.github.io/img/image-20200318093957720.png)

注意，如果上传图片失败，往往是没有使用相对路径，导致上传命令找不到图片所在位置，这时候勾选上就可以。记得设置完成后验证一下图片上传。

有时候会遇到怎么都上传不成功的情况，目前遇到的情况主要有2种：

- 仓库中已有同名的图片。

  这里可以打开`PicGo`设置中的`时间戳重命名`功能，因为我们暂时不整理图片仓库，所以不需要有意义的命名，如果以后想自主管理图片，到时候再研究更好的实践方案。

- 还有可能是`PicGo`的Server服务卡住了，只要重启一下`PicGo`就好。

那么经过上面的设置，就可以开始愉快的写作啦，图片也是用到的时候直接截图或者拖进`Typora`就可以了，快去体验吧！

顺带推荐一下截图工具[Snipaste](https://zh.snipaste.com/)，用过的都说好！

## <span id="con">总结</span>

#### Typora+PicGo的食用方法

1. 安装并配置[PicGo](https://picgo.github.io/PicGo-Doc/zh/)，使用`Github图床`，在博客的仓库创建`img`分支用于提交保存图片。
2. 安装并配置[Typora](https://www.typora.io)，在配置中使用`PicGo`服务，实现在`Typora`中上传图片功能。
3. 开吃。

#### 不足和改进

- 这篇文章解决了写作这一核心问题，但是写作完之后还是有一系列繁琐的生成部署行为需要手动执行。

  之后会研究怎么使用Travis CI，来持续集成，保证我们只要专心写作就可以。

- 图床中的图片为了保证不重名，大部分以时间戳形式命名保存，这很不利于管理，并且没有划分日期文件夹，容易造成所有图片在同一目录下，造成视觉上和操作上的不便。

  如果以后`PicGo`功能更新到可以支持上面按日期分目录上传的功能，那是最好的。

  如果没有，可能需要研究其他的解决方案（如果需要管理图床的话）

